The CHRNB3 gene, which codes for the beta 3 subunit of the nicotinic acetylcholine receptors, affects the response to substances like nicotine and cocaine by influencing neurotransmission and reward systems. Variants in CHRNB3 modify the effectiveness of smoking cessation drugs like varenicline by changing receptor configuration and function, impacting both efficacy and potential side effects, and also influence the neurological impact of cocaine through similar pathways related to dopamine release and addiction.